status: draft

# Next Generation VT Input Mode Protocol

The goal of the `ngvt-input-mode` protocol is to make command line interactivity cross-platform.

- No TTY required.
- No OS-level signal tracking required.

## Audience

You want to:
- Track the terminal window size.
- Get consistent output regardless of terminal window resize.
- Operate without an allocated TTY.
- Track every key press and key release.
- Track position dependent keys such as WASD.
- Simplify functional key parsing.
- Distinguish between Left and Right physical keys.
- Auto restore all terminal modes on exit.
- Track mouse outside the terminal window (getting negative coordinates).
- Track scrollback text selection.
- Track application closing and system shutdown.
- Be independent of operating system and third party libraries.

## Initialization

```
Set:   ESC ] n g v t ; 0 ; ID1 ; ... ; IDn BEL
Reset: ESC ] n g v t ; 0 BEL
```

ID   | Events to track
-----|------------
1    | Keyboard
2    | Mouse
3    | Focus
4    | Clipboard
5    | Viewport
6    | Signals

This sequence enables `ngvt-input-mode` and event tracking for the specified event IDs. The mode is deactivated if no ID is specified.

Note: By enabling `ngvt-input-mode`, all terminal modes are automatically saved (to be restored on exit) and switched to something like "raw" mode, in which input is available character by character, echoing is disabled, and all special processing of terminal input and output characters is disabled (except for `LF` to `CR+LF` conversion).

## Events

- Keyboard
  ```
  ESC ] n g v t ; 1 ; KeyId ; KeyState ; CtrlState ; KeyCode ; ScanCode ; UniCode ; C0 ; … ; Cn BEL
  ```
- Mouse
  ```
  ESC ] n g v t ; 2 ; MouseX, MouseY, Buttons ; CtrlState BEL
  ```
- Focus
  ```
  ESC ] n g v t ; 3 ; FocusState BEL
  ```
- Clipboard
  ```
  ESC ] n g v t ; 4 ; MimeType ; Data BEL
  ```
- Viewport
  ```
  ESC ] n g v t ; 5 ; WinSizeX ; WinSizeY ; CtrlState ; CaretX ; CaretY ; ScrollTop ; ScrollBottom ; ScrollLeft ; ScrollRight ; SelStartX ; SelStartY ; SelEndX ; SelEndY ; SelMode BEL
  ```
- Signals
  ```
  ESC ] n g v t ; 6 ; Reason BEL
  ```

### Keyboard

```
ESC ] n g v t ; 1 ; KeyId ; KeyState ; CtrlState ; KeyCode ; ScanCode ; UniCode ; C0 ; … ; Cn BEL
```

Field            | Description
-----------------|--------------------------
`KeyId`          | Key ID.
`KeyState`       | Key state: 1 - Pressed, 0 - Released.
`CtrlState`      | Keyboard modifiers state.
`ScanCode`       | Scan code.
`KeyCode`        | Platform dependent key code. (todo: not used)
`UniCode`        | First codepoint of the generated string.
`C1`, …, `Cn`    | Continuing codepoints of the generated string.

This sequence fired after every key press and key release. Event data can contain a string generated by a keystroke as a set of codepoints: `UniCode + C1 + ... + Cn`. The string can be fragmented and delivered by multiple consecutive events.

Keystrokes can be
- Functional. Detected by non-zero `KeyId`.
- Printable. Detected by non-zero `UniCode`.
- Place-dependent. Detected by non-zero `ScanCode`.

Function keys always have `UniCode` set to zero, and a set of `C1`, ..., `Cn` containing the VT-string generated by the keystroke. For example:
- Keystroke <kbd>LeftArrow</kbd> generates `←[D` = `UniCode=0; C1=27; C2=91; C3=68`.
- Keystroke <kbd>Ctrl+LeftArrow</kbd> generates `←[1;5D` = `UniCode=0; C1=27; C2=91; C3=49; C4=53; C5=126`.
- Keystroke <kbd>F5</kbd> generates `←[15~` = `UniCode=0; C1=27; C2=91; C3=49; C4=53; C5=126`.
- Keystroke <kbd>Shift+F5</kbd> generates `←[15;2~` = `UniCode=0; C1=27; C2=91; C3=49; C4=53; C5=59; C6=50; C7=126`.

### Mouse

```
ESC ] n g v t ; 2 ; MouseX ; MouseY ; ButtonState ; CtrlState BEL
```

Field          | Description
---------------|--------------------------
`MouseX` / `Y` | Pointer coorinates.
`ButtonState`  | Button state.
`CtrlState`    | Keyboard modifiers state.

...negative values...

### Focus

```
ESC ] n g v t ; 3 ; FocusState BEL
```

Field        | Description
-------------|--------------------------
`FocusState` | Terminal window focus state.

### Clipboard

```
ESC ] n g v t ; 4 ; MimeType ; Data BEL
```

Field      | Description
-----------|--------------------------
`MimeType` | Pasted data mime type.
`Data`     | Base64 encoded data.

### Viewport

```
ESC ] n g v t ; 5 ; WinSizeX ; WinSizeY ; CtrlState ; CaretX ; CaretY ; ScrollTop ; ScrollBottom ; ScrollLeft ; ScrollRight ; SelStartX ; SelStartY ; SelEndX ; SelEndY ; SelMode BEL
```

Field                                        | Description
---------------------------------------------|------------
`WinSizeX`<br>`WinSizeY`                     | Terminal viewport size.
`CaretX`<br>`CaretY`                         | Current text cursor position.
`ScrollTop`/`Bottom`<br>`ScrollLeft`/`Right` | Scrolling region margins.
`SelStartX`/`Y`<br>`SelEndX`/`Y`             | Coordinates of the text selection start/end (half-open interval).
`SelMode`                                    | Text selection mode: 0 - line-based, 1 - rect-based.
`CtrlState`                                  | Keyboard modifiers state.

This sequence is the first one received by the application after `ngvt-input-mode` request.

#### Viewport tracking

When the terminal window is resized, the viewport is finally changed only after a handshake between the terminal and the application. Successive multiple resizing of the window initiates the same number of handshakes.

Handshake steps:
1. The terminal requests a new size, omitting all other parameters.
2. Application must reply with the same message.
3. The terminal applies the new size and sends the changes.

```
Terminal:    ESC ] n g v t ; 5 ; WinSizeX ; WinSizeY _
Application: ESC ] n g v t ; 5 ; WinSizeX ; WinSizeY _
Terminal:    ESC ] n g v t ; 5 ; WinSizeX ; WinSizeY ; CtrlState ; CaretX ; CaretY ; ScrollTop ; ScrollBottom ; ScrollLeft ; ScrollRight ; SelStartX ; SelStartY ; SelEndX ; SelEndY ; SelMode BEL
```

Note that the terminal window resizing always reflows the scrollback, so the viewport size, cursor position, scrolling regions, and selection coordinates are subject to change during step 3. In case the aplication's output is anchored to the current cursor position or uses scrolling regions, the application should wait after step 2 for the updated values before continuing to output.

#### Selection Tracking

The viewport tracking sequence is fired after every scrollback text selection changed. In the case of using the mouse for selection, a single left click is treated as a special case of selection when the start and end are the same (empty selection).

Note that selected text in the scrollback above the viewport top level will produce negative Y-coordinate values.

### Signals

```
ESC ] n g v t ; 6 ; Signal BEL
```

Signal | Description
-------|------------
`0`    | Terminal window closing
`1`    | <kbd>Ctrl+Break</kbd> pressed
`2`    | Log off
`3`    | System shutdown

The application must respond to the terminal within 5 seconds with the same message confirming that it will close itself without being forced. For reasons 0 or 1 responses, the application can continue to run if needed. In the absence of confirmation, and also in the case of reasons 2 or 3, the application will be forced to close after 5 seconds if it does not terminate itself.

## Conventions

- All values used in this protocol are decimal and zero-based.
- All unescaped symbols outside of this protocol should be treated as clipboard pasted data.

### Scan Codes

`ScanCode`s are usually useful for applications that need to know which key is pressed, regardless of the current keyboard layout. For example, the WASD (Up, Left, Down, Right) keys for games, which ensure a consistent key formation across QWERTY, AZERTY or Dvorak keyboard layouts.

```
QWERTY: "W" = 11  "A" = 1E  "S" = 1F  "D" = 20
AZERTY: "Z" = 11  "Q" = 1E  "S" = 1F  "D" = 20
Dvorak: "," = 11  "A" = 1E  "O" = 1F  "E" = 20
```

Scan codes for the keys on a standard 104-key keyboard:

```
┌────┐  ┌────╥────╥────╥────┐  ┌────╥────╥────╥────┐  ┌────╥────╥────╥────┐  ┌────╥────╥────┐
| 01 │  | 3B ║ 3C ║ 3D ║ 3E |  | 3F ║ 40 ║ 41 ║ 42 |  | 43 ║ 44 ║ 57 ║ 58 |  | 37 ║ 46 ║ 45 |
└────┘  └────╨────╨────╨────┘  └────╨────╨────╨────┘  └────╨────╨────╨────┘  └────╨────╨────┘
┌────╥────╥────╥────╥────╥────╥────╥────╥────╥────╥────╥────╥────╥────────┐  ┌────╥────╥────┐  ┌────╥────╥────╥────┐
| 29 ║ 02 ║ 03 ║ 04 ║ 05 ║ 06 ║ 07 ║ 08 ║ 09 ║ 0A ║ 0B ║ 0C ║ 0D ║     0E |  | 52 ║ 47 ║ 49 |  | 45 ║ 35 ║ 37 ║ 4A |
╞════╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══════╡  ╞════╬════╬════╡  ╞════╬════╬════╬════╡
| 0F   ║ 10 ║ 11 ║ 12 ║ 13 ║ 14 ║ 15 ║ 16 ║ 17 ║ 18 ║ 19 ║ 1A ║ 1B ║   2B |  | 53 ║ 4F ║ 51 |  | 47 ║ 48 ║ 49 ║    |
╞══════╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩╦═══╩══════╡  └────╨────╨────┘  ╞════╬════╬════╣ 4E |
| 3A    ║ 1E ║ 1F ║ 20 ║ 21 ║ 22 ║ 23 ║ 24 ║ 25 ║ 26 ║ 27 ║ 28 ║       1C |                    | 4B ║ 4C ║ 4D ║    |
╞═══════╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩═╦══╩══════════╡       ┌────┐       ╞════╬════╬════╬════╡
| 2A      ║ 2C ║ 2D ║ 2E ║ 2F ║ 30 ║ 31 ║ 32 ║ 33 ║ 34 ║ 35 ║          36 |       | 48 |       | 4F ║ 50 ║ 51 ║    |
╞══════╦══╩═╦══╩═══╦╩════╩════╩════╩════╩════╩════╩╦═══╩╦═══╩╦═════╦══════╡  ┌────┼────┼────┐  ╞════╩════╬════╣ 1C |
| 1D   ║ 5B ║ 38   ║               39              ║ 38 ║ 5C ║  5D ║   1D |  | 4B | 50 | 4D |  |      52 ║ 53 ║    |
└──────╨────╨──────╨───────────────────────────────╨────╨────╨─────╨──────┘  └────┴────┴────┘  └─────────╨────╨────┘
```

### Keyboard Modifiers

The state `CtrlState` of keyboard modifiers is the binary OR of all currently pressed modifiers and enabled modes.

Modifier                                | kvm CtrlState   | win32 CtrlState
----------------------------------------|-----------------|-----------------
<kbd>RightAlt</kbd> or <kbd>AltGr</kbd> | `   1` `0x0001` | `   1`  `0x0001`
<kbd>LeftAlt</kbd>                      | `   2` `0x0002` | `   2`  `0x0002`
<kbd>Alt</kbd>                          | `   3` `0x0003` | `   3`  `0x0002`
<kbd>RightCtrl</kbd>                    | `   4` `0x0004` | `   4`  `0x0004`
<kbd>LeftCtrl</kbd>                     | `   8` `0x0008` | `   8`  `0x0008`
<kbd>Ctrl</kbd>                         | `  12` `0x000C` | `  12`  `0x000C`
<kbd>RightShift</kbd>                   | `2048` `0x0800` | `  16`  `0x0010`
<kbd>LeftShift</kbd>                    | `  16` `0x0010` | `  16`  `0x0010`
<kbd>Shift</kbd>                        | `2064` `0x0810` | `  16`  `0x0010`
<kbd>NumLock Mode</kbd>                 | `  32` `0x0020` | `  32`  `0X0020`
<kbd>ScrollLock Mode</kbd>              | `  64` `0x0040` | `  64`  `0X0040`
<kbd>CapsLock Mode</kbd>                | ` 128` `0x0080` | ` 128`  `0x0080`
<kbd>Extended Key</kbd>                 | ` 256` `0x0100` | ` 256`  `0x0100`
<kbd>RightWin</kbd>                     | ` 512` `0x0200` |
<kbd>LeftWin</kbd>                      | `1024` `0x0400` |
<kbd>Win</kbd>                          | `1536` `0x0600` |
<kbd>Normal Mode</kbd>                  | `4096` `0x1000` |
<kbd>Application Mode</kbd>             | `8192` `0x2000` |

### Physical Keys

Each key has a unique `KeyId` which maps to `KeyCode`, `ScanCode` and the `CtrlState` flag. The string generated by the keystroke is not included in this mapping because it depends on modifiers state and the national keyboard layout.

The `KeyId` is incremented by 2 for each generic key, providing two `KeyId` placeholders for each physical key to distinguish between Left and Right (or Numpad) in the last bit. Ignore the last bit of `KeyId` for tracking generic keys.

Key ID | Name             | Physical Key                  | KeyCode      | ScanCode     | CtrlState    | Notes
-------|------------------|-------------------------------|--------------|--------------|--------------|-------------
0      | undef            |                               |              |              |              |
2      | Esc              | <kbd>Esc</kbd>                | ` 27` `0x1B` | `  1` `0x01` |              |
4      | Space            | <kbd>Space</kbd>              | ` 32` `0x20` | ` 57` `0x39` |              |
6      | Backspace        | <kbd>Backspace</kbd>          | `  8` `0x08` | ` 14` `0x0E` |              |
8      | Tab              | <kbd>Tab</kbd>                | `  9` `0x09` | ` 15` `0x0F` |              |
10     | LeftShift        | <kbd>Left Shift</kbd>         | ` 16` `0x10` | ` 42` `0x2A` |              |
11     | RightShift       | <kbd>Right Shift</kbd>        | ` 16` `0x10` | ` 54` `0x36` |              |
12     | LeftCtrl         | <kbd>Left Ctrl</kbd>          | ` 17` `0x11` | ` 29` `0x1D` |              |
13     | RightCtrl        | <kbd>Right Ctrl</kbd>         | ` 17` `0x11` | ` 29` `0x1D` |`Extended Key`|
14     | LeftAlt          | <kbd>Left Alt</kbd>           | ` 18` `0x12` | ` 56` `0x38` |              |
15     | RightAlt         | <kbd>Right Alt</kbd>          | ` 18` `0x12` | ` 56` `0x38` |`Extended Key`|
16     | LeftWin          | <kbd>Left Win</kbd>           | ` 91` `0x5B` | ` 91` `0x5B` |`Extended Key`|
17     | RightWin         | <kbd>Right Win</kbd>          | ` 92` `0x5C` | ` 92` `0x5C` |`Extended Key`|
18     | CapsLock         | <kbd>Caps Lock</kbd>          | ` 20` `0x14` | ` 58` `0x3A` |              |
20     | NumLock          | <kbd>Num Lock</kbd>           | `144` `0x90` | ` 69` `0x45` |              |
22     | ScrollLock       | <kbd>Scroll Lock</kbd>        | `145` `0x91` | ` 69` `0x45` |              |
24     | Apps             | <kbd>Apps</kbd>               | ` 93` `0x5D` | ` 93` `0x5D` |`Extended Key`|
26     | Break            | <kbd>Break</kbd>              | `  3` `0x03` | ` 69` `0x45` |              | Ctrl + Pause
28     | Pause            | <kbd>Pause</kbd>              | ` 19` `0x13` | ` 69` `0x45` |              |
30     | Select           | <kbd>Select</kbd>             | ` 41` `0x29` |              |              |
32     | SysRq            | <kbd>SysRq</kbd>              | ` 44` `0x2C` | ` 84` `0x54` |              | Alt + PrintScreen
34     | PrintScreen      | <kbd>Print Screen</kbd>       | ` 44` `0x2C` | ` 55` `0x37` |`Extended Key`|
36     | Enter            | <kbd>Enter</kbd>              | ` 13` `0x0D` | ` 28` `0x1C` |              |
37     | NumpadEnter      | <kbd>Numpad Enter</kbd>       | ` 13` `0x0D` | ` 28` `0x1C` |`Extended Key`|
38     | PageUp           | <kbd>PageUp</kbd>             | ` 33` `0x21` | ` 73` `0x49` |`Extended Key`|
39     | NumpadPageUp     | <kbd>Numpad PageUp</kbd>      | ` 33` `0x21` | ` 73` `0x49` |              |
40     | PageDown         | <kbd>PageDown</kbd>           | ` 34` `0x22` | ` 81` `0x51` |`Extended Key`|
41     | NumpadPageDown   | <kbd>Numpad PageDown</kbd>    | ` 34` `0x22` | ` 81` `0x51` |              |
42     | End              | <kbd>End</kbd>                | ` 35` `0x23` | ` 79` `0x4F` |`Extended Key`|
43     | NumpadEnd        | <kbd>Numpad End</kbd>         | ` 35` `0x23` | ` 79` `0x4F` |              |
44     | Home             | <kbd>Home</kbd>               | ` 36` `0x24` | ` 71` `0x47` |`Extended Key`|
45     | NumpadHome       | <kbd>Numpad Home</kbd>        | ` 36` `0x24` | ` 71` `0x47` |              |
46     | LeftArrow        | <kbd>Left Arrow</kbd>         | ` 37` `0x25` | ` 75` `0x4B` |`Extended Key`|
47     | NumpadLeftArrow  | <kbd>Numpad Left Arrow</kbd>  | ` 37` `0x25` | ` 75` `0x4B` |              |
48     | UpArrow          | <kbd>Up Arrow</kbd>           | ` 38` `0x26` | ` 72` `0x48` |`Extended Key`|
49     | NumpadUpArrow    | <kbd>Numpad Up Arrow</kbd>    | ` 38` `0x26` | ` 72` `0x48` |              |
50     | RightArrow       | <kbd>Right Arrow</kbd>        | ` 39` `0x27` | ` 77` `0x4D` |`Extended Key`|
51     | NumpadRightArrow | <kbd>Numpad Right Arrow</kbd> | ` 39` `0x27` | ` 77` `0x4D` |              |
52     | DownArrow        | <kbd>Down Arrow</kbd>         | ` 40` `0x28` | ` 80` `0x50` |`Extended Key`|
53     | NumpadDownArrow  | <kbd>Numpad Down Arrow</kbd>  | ` 40` `0x28` | ` 80` `0x50` |              |
54     | Key0             | <kbd>0</kbd>                  | ` 48` `0x30` | ` 11` `0x0B` |              |
55     | Numpad0          | <kbd>Numpad 0</kbd>           | ` 96` `0x60` | ` 82` `0x52` |`NumLock Mode`|
56     | Key1             | <kbd>1</kbd>                  | ` 49` `0x31` | `  2` `0x02` |              |
57     | Numpad1          | <kbd>Numpad 1</kbd>           | ` 97` `0x61` | ` 79` `0x4F` |`NumLock Mode`|
58     | Key2             | <kbd>2</kbd>                  | ` 50` `0x32` | `  3` `0x03` |              |
59     | Numpad2          | <kbd>Numpad 2</kbd>           | ` 98` `0x62` | ` 80` `0x50` |`NumLock Mode`|
60     | Key3             | <kbd>3</kbd>                  | ` 51` `0x33` | `  4` `0x04` |              |
61     | Numpad3          | <kbd>Numpad 3</kbd>           | ` 99` `0x63` | ` 81` `0x51` |`NumLock Mode`|
62     | Key4             | <kbd>4</kbd>                  | ` 52` `0x34` | `  5` `0x05` |              |
63     | Numpad4          | <kbd>Numpad 4</kbd>           | `100` `0x64` | ` 75` `0x4B` |`NumLock Mode`|
64     | Key5             | <kbd>5</kbd>                  | ` 53` `0x35` | `  6` `0x06` |              |
65     | Numpad5          | <kbd>Numpad 5</kbd>           | `101` `0x65` | ` 76` `0x4C` |`NumLock Mode`|
66     | Key6             | <kbd>6</kbd>                  | ` 54` `0x36` | `  7` `0x07` |              |
67     | Numpad6          | <kbd>Numpad 6</kbd>           | `102` `0x66` | ` 77` `0x4D` |`NumLock Mode`|
68     | Key7             | <kbd>7</kbd>                  | ` 55` `0x37` | `  8` `0x08` |              |
69     | Numpad7          | <kbd>Numpad 7</kbd>           | `103` `0x67` | ` 71` `0x47` |`NumLock Mode`|
70     | Key8             | <kbd>8</kbd>                  | ` 56` `0x38` | `  9` `0x09` |              |
71     | Numpad8          | <kbd>Numpad 8</kbd>           | `104` `0x68` | ` 72` `0x48` |`NumLock Mode`|
72     | Key9             | <kbd>9</kbd>                  | ` 57` `0x39` | ` 10` `0x0A` |              |
73     | Numpad9          | <kbd>Numpad 9</kbd>           | `105` `0x69` | ` 73` `0x49` |`NumLock Mode`|
74     | Insert           | <kbd>Insert</kbd>             | ` 45` `0x2D` | ` 82` `0x52` |`Extended Key`|
75     | NumpadInsert     | <kbd>Numpad Insert</kbd>      | ` 45` `0x2D` | ` 82` `0x52` |              |
76     | Delete           | <kbd>Delete</kbd>             | ` 46` `0x2E` | ` 83` `0x53` |`Extended Key`|
77     | NumpadDelete     | <kbd>Numpad Delete</kbd>      | ` 46` `0x2E` | ` 83` `0x55` |              |
78     | Clear            | <kbd>Clear</kbd>              | ` 12` `0x0C` | ` 76` `0x4C` |              |
79     | NumpadClear      | <kbd>Numpad Clear</kbd>       | ` 12` `0x0C` | ` 76` `0x4C` |              | Numpad 5
80     | Multiply         | <kbd>*</kbd>                  | `106` `0x6A` |              |              |
81     | NumpadMultiply   | <kbd>Numpad *</kbd>           | `106` `0x6A` |              |              |
82     | Plus             | <kbd>+</kbd>                  | `107` `0x6B` |              |              |
83     | NumpadPlus       | <kbd>Numpad +</kbd>           | `107` `0x6B` |              |              |
84     | Separator        | <kbd>Separator</kbd>          | `108` `0x6C` |              |              |
85     | NumpadSeparator  | <kbd>Numpad Separator</kbd>   | `108` `0x6C` |              |              |
86     | Minus            | <kbd>-</kbd>                  | `189` `0xBD` | ` 12` `0x0C` |              |
87     | NumpadMinus      | <kbd>Numpad -</kbd>           | `109` `0x6D` |              |              |
88     | Period           | <kbd>.</kbd>                  | `190` `0xBE` |              |              |
89     | NumpadDecimal    | <kbd>Numpad .</kbd>           | `110` `0x6E` |              |`NumLock Mode`|
90     | Slash            | <kbd>/</kbd>                  | `191` `0xBF` |              |              |
91     | NumpadSlash      | <kbd>Numpad /</kbd>           | `111` `0x6F` |              |`Extended Key`|
202    | BackSlash        | <kbd>\\</kbd>                 | `220` `0xDC` | ` 43` `0x2B` |              |
198    | OpenBracket      | <kbd>[</kbd>                  | `219` `0xDB` |              |              |
200    | ClosedBracket    | <kbd>]</kbd>                  | `221` `0xDD` |              |              |
140    | Equal            | <kbd>=</kbd>                  | `187` `0xBB` | ` 13` `0x0D` |              |
142    | BackQuote        | <kbd>\`</kbd>                 | `192` `0xC0` | ` 41` `0x29` |              |
144    | SingleQuote      | <kbd>'</kbd>                  | `222` `0xDE` |              |              |
204    | Comma            | <kbd>,</kbd>                  | `188` `0xBC` |              |              |
206    | Semicolon        | <kbd>;</kbd>                  | `186` `0xBA` |              |              |
92     | F1               | <kbd>F1</kbd>                 | `112` `0x70` | ` 59` `0x3B` |              |
94     | F2               | <kbd>F2</kbd>                 | `113` `0x71` | ` 61` `0x3C` |              |
96     | F3               | <kbd>F3</kbd>                 | `114` `0x72` | ` 62` `0x3D` |              |
98     | F4               | <kbd>F4</kbd>                 | `115` `0x73` | ` 63` `0x3E` |              |
100    | F5               | <kbd>F5</kbd>                 | `116` `0x74` | ` 64` `0x3F` |              |
102    | F6               | <kbd>F6</kbd>                 | `117` `0x75` | ` 65` `0x40` |              |
104    | F7               | <kbd>F7</kbd>                 | `118` `0x76` | ` 66` `0x41` |              |
106    | F8               | <kbd>F8</kbd>                 | `119` `0x77` | ` 67` `0x42` |              |
108    | F9               | <kbd>F9</kbd>                 | `120` `0x78` | ` 68` `0x43` |              |
110    | F10              | <kbd>F10</kbd>                | `121` `0x79` | ` 69` `0x44` |              |
112    | F11              | <kbd>F11</kbd>                | `122` `0x7A` | ` 87` `0x57` |              |
114    | F12              | <kbd>F12</kbd>                | `123` `0x7B` | ` 88` `0x5B` |              |
116    | F13              | <kbd>F13</kbd>                | `124` `0x7C` |              |              |
118    | F14              | <kbd>F14</kbd>                | `125` `0x7D` |              |              |
120    | F15              | <kbd>F15</kbd>                | `126` `0x7E` |              |              |
122    | F16              | <kbd>F16</kbd>                | `127` `0x7F` |              |              |
124    | F17              | <kbd>F17</kbd>                | `128` `0x80` |              |              |
126    | F18              | <kbd>F18</kbd>                | `129` `0x81` |              |              |
128    | F19              | <kbd>F19</kbd>                | `130` `0x82` |              |              |
130    | F20              | <kbd>F20</kbd>                | `131` `0x83` |              |              |
132    | F21              | <kbd>F21</kbd>                | `132` `0x84` |              |              |
134    | F22              | <kbd>F22</kbd>                | `133` `0x85` |              |              |
136    | F23              | <kbd>F23</kbd>                | `134` `0x86` |              |              |
138    | F24              | <kbd>F24</kbd>                | `135` `0x87` |              |              |
146    | KeyA             | <kbd>A</kbd>                  | ` 65` `0x41` |              |              |
148    | KeyB             | <kbd>B</kbd>                  | ` 66` `0x42` |              |              |
150    | KeyC             | <kbd>C</kbd>                  | ` 67` `0x43` |              |              |
152    | KeyD             | <kbd>D</kbd>                  | ` 68` `0x44` |              |              |
154    | KeyE             | <kbd>E</kbd>                  | ` 69` `0x45` |              |              |
156    | KeyF             | <kbd>F</kbd>                  | ` 70` `0x46` |              |              |
158    | KeyG             | <kbd>G</kbd>                  | ` 71` `0x47` |              |              |
160    | KeyH             | <kbd>H</kbd>                  | ` 72` `0x48` |              |              |
162    | KeyI             | <kbd>I</kbd>                  | ` 73` `0x49` |              |              |
164    | KeyJ             | <kbd>J</kbd>                  | ` 74` `0x4A` |              |              |
166    | KeyK             | <kbd>K</kbd>                  | ` 75` `0x4B` |              |              |
168    | KeyL             | <kbd>L</kbd>                  | ` 76` `0x4C` |              |              |
170    | KeyM             | <kbd>M</kbd>                  | ` 77` `0x4D` |              |              |
172    | KeyN             | <kbd>N</kbd>                  | ` 78` `0x4E` |              |              |
174    | KeyO             | <kbd>O</kbd>                  | ` 79` `0x4F` |              |              |
176    | KeyP             | <kbd>P</kbd>                  | ` 80` `0x50` |              |              |
178    | KeyQ             | <kbd>Q</kbd>                  | ` 81` `0x51` |              |              |
180    | KeyR             | <kbd>R</kbd>                  | ` 82` `0x52` |              |              |
182    | KeyS             | <kbd>S</kbd>                  | ` 83` `0x53` |              |              |
184    | KeyT             | <kbd>T</kbd>                  | ` 84` `0x54` |              |              |
186    | KeyU             | <kbd>U</kbd>                  | ` 85` `0x55` |              |              |
188    | KeyV             | <kbd>V</kbd>                  | ` 86` `0x56` |              |              |
190    | KeyW             | <kbd>W</kbd>                  | ` 87` `0x57` |              |              |
192    | KeyX             | <kbd>X</kbd>                  | ` 88` `0x58` |              |              |
194    | KeyY             | <kbd>Y</kbd>                  | ` 89` `0x59` |              |              |
196    | KeyZ             | <kbd>Z</kbd>                  | ` 90` `0x5A` |              |              |
208    | Sleep            | <kbd>Sleep</kbd>              | ` 95` `0x5F` |              |`Extended Key`|
210    | WWW              | <kbd>WWW</kbd>                | `172` `0xAC` |              |`Extended Key`|
212    | Calculator       | <kbd>Calculator</kbd>         | `183` `0xB7` |              |`Extended Key`|
214    | Mail             | <kbd>Mail</kbd>               | `184` `0x48` |              |`Extended Key`|
216    | MediaVolMute     | <kbd>Media Vol Mute</kbd>     | `173` `0xAD` |              |`Extended Key`|
218    | MediaVolDown     | <kbd>Media Vol Down</kbd>     | `174` `0xAE` |              |`Extended Key`|
220    | MediaVolUp       | <kbd>Media Vol Up</kbd>       | `175` `0xAF` |              |`Extended Key`|
222    | MediaNext        | <kbd>Media Next</kbd>         | `176` `0xB0` |              |`Extended Key`|
224    | MediaPrev        | <kbd>Media Prev</kbd>         | `177` `0xB1` |              |`Extended Key`|
226    | MediaStop        | <kbd>Media Stop</kbd>         | `178` `0xB2` |              |`Extended Key`|
228    | MediaPlayPause   | <kbd>Media Play/Pause</kbd>   | `179` `0xB3` |              |`Extended Key`|
230    | MediaSelect      | <kbd>Media Select</kbd>       | `181` `0xB5` |              |`Extended Key`|
232    | BrowserBack      | <kbd>Browser Back</kbd>       | `166` `0xA6` |              |`Extended Key`|
234    | BrowserForward   | <kbd>Browser Forward</kbd>    | `167` `0xA7` |              |`Extended Key`|
236    | BrowserRefresh   | <kbd>Browser Refresh</kbd>    | `168` `0xA8` |              |`Extended Key`|
238    | BrowserStop      | <kbd>Browser Stop</kbd>       | `169` `0xA9` |              |`Extended Key`|
240    | BrowserSearch    | <kbd>Browser Search</kbd>     | `170` `0xAA` |              |`Extended Key`|
242    | BrowserFavorites | <kbd>Browser Favorites</kbd>  | `171` `0xAB` |              |`Extended Key`|
244    | BrowserHome      | <kbd>Browser Home</kbd>       | `172` `0xAC` |              |`Extended Key`|

## Usage Examples

### C++20

```c++
#include <iostream>

int main()
{
    std::cout << "test" << '\n';
}
```

### Python

```python
#!/bin/python

while True:
    print('test\n')
```

### PowerShell

```powershell
while ($True)
{
   "test";
}
```