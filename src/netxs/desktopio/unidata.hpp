// Copyright (c) NetXS Group.
// Licensed under the MIT license.

/**
 * unidata.hpp autogenerated 2024-05-16 15:46:50.612486
 *
 * Provides access to the Unicode Character Database.
 * Properties of a single Unicode character are accessed by its code point value.
 *
 * Format conventions
 *  https://www.unicode.org/reports/tr44/
 *
 * Character presentation width rules
 *  EAW:    https://www.unicode.org/reports/tr11
 *  Emoji:  https://www.unicode.org/reports/tr51
 *
 * Grapheme clusterization
 *  https://www.unicode.org/reports/tr29
 *
 * Unicode Character Database properties
 *  https://www.unicode.org/reports/tr44/#Property_Index
 *
 * All emoji characters are treated 'East Asian Wide'.
 *  Current practice is for emoji to have a square aspect ratio, deriving from their origin in Japanese.
 *  https://www.unicode.org/reports/tr51/#Display
 *
 * VS15/16
 *  Emoji presentation sequences behave as though they were East Asian Wide,
 *  regardless of their assigned East_Asian_Width property value.
 *  https://www.unicode.org/reports/tr11/#Recommendations
 *
 * Ambiguous characters
 *  Ambiguous characters behave like wide or narrow characters depending on the context.
 *  If the context cannot be established reliably, they should be treated as narrow characters by default.
 *  https://www.unicode.org/reports/tr11/#Recommendations
 *
 * Categories of the character width
 *  0 - Non-printable
 *  1 - Halfwidth
 *  2 - Fullwidth
 *
 * C0 controls 0x00..0x1F
 *  Since C0 codes are based on bytes, they are excluded from the property list of controls.
 *  They are analyzed in static tables before decoding UTF-8.
 *
 * C1 controls 0x80..0x9F
 *  The C1 codes require two bytes to be encoded in UTF-8
 *  (for instance CSI at U+009B is encoded as the bytes 0xC2, 0x9B in UTF-8),
 *  so there is no advantage to using them rather than the equivalent
 *  two-byte ESC+letter sequence, so the C1 controls are represented
 *  as C0 escaped sequences.
 *  The C1 characters appear outdated now.
 *  https://en.wikipedia.org/wiki/C0_and_C1_control_codes#Unicode
 *
 * Soft Hyphen
 *  Two ways:
 *    1. Interpret it as a command and divide the text strings into two independent.
 *    2. Append it to the last grapheme cluster.
 *
 * Printable format characters
 *  A 'Prepend' characters always have the width 'Narrow' to be the basis of the grapheme cluster.
 *  https://www.unicode.org/reports/tr29/#Table_Combining_Char_Sequences_and_Grapheme_Clusters
 *  https://www.unicode.org/reports/tr29/#GB9b
 *
 * Names and Aliases
 *  Character name aliases are immutable.
 *  https://www.unicode.org/versions/Unicode12.0.0/ch04.pdf#page=24
 *
 * Unicode Bidirectional Algorithm
 *  https://www.unicode.org/cldr/utility/bidi.jsp
 *  https://unicode.org/reports/tr9/
 *
 * Controls (should be enumerated in ascending order)
 *    command: <NON_CONTROL (paragraph break possible)
 *            C0
 *            C1
 *            \u2029 PARAGRAPH SEPARATOR
 *    visible: =NON_CONTROL - non control chars
 *     format: >NON_CONTROL
 *             All other control chars
 **/

#pragma once

#include <cstdint>
#include <vector>
#include <iterator>

namespace netxs::unidata
{
    namespace widths
    {
        static constexpr auto vs_block = 0xE0100;
        static auto p = [](auto x){ return x * (x + 1) / 2 + 1; }; // ref: https://github.com/directvt/vtm/assets/11535558/792a5b87-712f-4313-91bc-9637964fc7fa
        template<si32 wh, si32 xy>
        static constexpr auto vs = []
        {
            auto w = wh / 10;
            auto h = wh % 10;
            auto x = xy / 10;
            auto y = xy % 10;
            auto v = p(w) + p(h) * 16 + x + y * 16;
            return v;
        }();
        static constexpr auto zero = vs<00,00>;
        static constexpr auto slim = vs<11,00>;
        static constexpr auto wide = vs<21,00>;
        auto whxy(si32 vs)
        {
            static auto lut = []
            {
                struct r { byte w, h, x, y; };
                auto v = std::vector(256, r{});
                for (auto w = (byte)1; w < 5; w++)
                for (auto h = (byte)1; h < 5; h++)
                for (auto y = (byte)0; y <= h; y++)
                for (auto x = (byte)0; x <= w; x++)
                {
                    v[p(w) + p(h) * 16 + x + y * 16] = { w, h, x, y };
                }
                return v;
            }();
            return lut[vs];
        }
    }

    namespace gbreak
    {
        static constexpr auto any   =  0; // Other
        static constexpr auto cr    =  1; // CR
        static constexpr auto lf    =  2; // LF
        static constexpr auto ctrl  =  3; // Control
        static constexpr auto ext   =  4; // Extend or Emoji_Modifier_Base
        static constexpr auto l     =  5; // HANGUL CHOSEONG
        static constexpr auto v     =  6; // HANGUL JUNGSEONG
        static constexpr auto t     =  7; // HANGUL JUNGSEONG
        static constexpr auto lv    =  8; // HANGUL SYLLABLE
        static constexpr auto lvt   =  9; // HANGUL SYLLABLE
        static constexpr auto ri    = 10; // Regional_Indicator
        static constexpr auto sm    = 11; // SpacingMark
        static constexpr auto prep  = 12; // Prepend
        static constexpr auto zwj   = 13; // ZERO WIDTH JOINER
        static constexpr auto ep    = 14; // Extended_Pictographic
        static constexpr auto combo = 15; // EP + ZWJ
    }

    enum cntrls : ui32
    {
        nul                                       , //   0 0x0   NULL
        soh                                       , //   1 0x1   START OF HEADING
        stx                                       , //   2 0x2   START OF TEXT
        etx                                       , //   3 0x3   END OF TEXT
        eot                                       , //   4 0x4   END OF TRANSMISSION
        enq                                       , //   5 0x5   ENQUIRY
        ack                                       , //   6 0x6   ACKNOWLEDGE
        bel                                       , //   7 0x7   ALERT
        bs                                        , //   8 0x8   BACKSPACE
        tab                                       , //   9 0x9   CHARACTER TABULATION
        eol                                       , //  10 0xA   LINE FEED
        vt                                        , //  11 0xB   LINE TABULATION
        ff                                        , //  12 0xC   FORM FEED
        cr                                        , //  13 0xD   CARRIAGE RETURN
        so                                        , //  14 0xE   SHIFT OUT
        si                                        , //  15 0xF   SHIFT IN
        dle                                       , //  16 0x10  DATA LINK ESCAPE
        dc1                                       , //  17 0x11  DEVICE CONTROL ONE
        dc2                                       , //  18 0x12  DEVICE CONTROL TWO
        dc3                                       , //  19 0x13  DEVICE CONTROL THREE
        dc4                                       , //  20 0x14  DEVICE CONTROL FOUR
        nak                                       , //  21 0x15  NEGATIVE ACKNOWLEDGE
        syn                                       , //  22 0x16  SYNCHRONOUS IDLE
        etb                                       , //  23 0x17  END OF TRANSMISSION BLOCK
        can                                       , //  24 0x18  CANCEL
        em                                        , //  25 0x19  END OF MEDIUM
        sub                                       , //  26 0x1A  SUBSTITUTE
        esc                                       , //  27 0x1B  ESCAPE
        fs                                        , //  28 0x1C  INFORMATION SEPARATOR FOUR
        gs                                        , //  29 0x1D  INFORMATION SEPARATOR THREE
        rs                                        , //  30 0x1E  INFORMATION SEPARATOR TWO
        us                                        , //  31 0x1F  INFORMATION SEPARATOR ONE
        del                                       , //  32 0x7F  DELETE
        pad                                       , //  33 0x80  PADDING CHARACTER
        hop                                       , //  34 0x81  HIGH OCTET PRESET
        bph                                       , //  35 0x82  BREAK PERMITTED HERE
        nbh                                       , //  36 0x83  NO BREAK HERE
        ind                                       , //  37 0x84  INDEX
        nel                                       , //  38 0x85  NEXT LINE
        ssa                                       , //  39 0x86  START OF SELECTED AREA
        esa                                       , //  40 0x87  END OF SELECTED AREA
        hts                                       , //  41 0x88  CHARACTER TABULATION SET
        htj                                       , //  42 0x89  CHARACTER TABULATION WITH JUSTIFICATION
        vts                                       , //  43 0x8A  LINE TABULATION SET
        pld                                       , //  44 0x8B  PARTIAL LINE FORWARD
        plu                                       , //  45 0x8C  PARTIAL LINE BACKWARD
        ri                                        , //  46 0x8D  REVERSE LINE FEED
        ss2                                       , //  47 0x8E  SINGLE SHIFT TWO
        ss3                                       , //  48 0x8F  SINGLE SHIFT THREE
        dcs                                       , //  49 0x90  DEVICE CONTROL STRING
        pu1                                       , //  50 0x91  PRIVATE USE ONE
        pu2                                       , //  51 0x92  PRIVATE USE TWO
        sts                                       , //  52 0x93  SET TRANSMIT STATE
        cch                                       , //  53 0x94  CANCEL CHARACTER
        mw                                        , //  54 0x95  MESSAGE WAITING
        spa                                       , //  55 0x96  START OF GUARDED AREA
        epa                                       , //  56 0x97  END OF GUARDED AREA
        sos                                       , //  57 0x98  START OF STRING
        sgc                                       , //  58 0x99  SINGLE GRAPHIC CHARACTER INTRODUCER
        sci                                       , //  59 0x9A  SINGLE CHARACTER INTRODUCER
        csi                                       , //  60 0x9B  CONTROL SEQUENCE INTRODUCER
        st                                        , //  61 0x9C  STRING TERMINATOR
        osc                                       , //  62 0x9D  OPERATING SYSTEM COMMAND
        pm                                        , //  63 0x9E  PRIVACY MESSAGE
        apc                                       , //  64 0x9F  APPLICATION PROGRAM COMMAND
        paragraph_separator                       , //  65 0x2029 PARAGRAPH SEPARATOR
        non_control                               , //  66 -1    NON CONTROL
        shy                                       , //  67 0xAD  SOFT HYPHEN
        alm                                       , //  68 0x61C ARABIC LETTER MARK
        mvs                                       , //  69 0x180E MONGOLIAN VOWEL SEPARATOR
        zwsp                                      , //  70 0x200B ZERO WIDTH SPACE
        zwnj                                      , //  71 0x200C ZERO WIDTH NON-JOINER
        lrm                                       , //  72 0x200E LEFT-TO-RIGHT MARK
        rlm                                       , //  73 0x200F RIGHT-TO-LEFT MARK
        line_separator                            , //  74 0x2028 LINE SEPARATOR
        lre                                       , //  75 0x202A LEFT-TO-RIGHT EMBEDDING
        rle                                       , //  76 0x202B RIGHT-TO-LEFT EMBEDDING
        pdf                                       , //  77 0x202C POP DIRECTIONAL FORMATTING
        lro                                       , //  78 0x202D LEFT-TO-RIGHT OVERRIDE
        rlo                                       , //  79 0x202E RIGHT-TO-LEFT OVERRIDE
        wj                                        , //  80 0x2060 WORD JOINER
        function_application                      , //  81 0x2061 FUNCTION APPLICATION
        invisible_times                           , //  82 0x2062 INVISIBLE TIMES
        invisible_separator                       , //  83 0x2063 INVISIBLE SEPARATOR
        invisible_plus                            , //  84 0x2064 INVISIBLE PLUS
        lri                                       , //  85 0x2066 LEFT-TO-RIGHT ISOLATE
        rli                                       , //  86 0x2067 RIGHT-TO-LEFT ISOLATE
        fsi                                       , //  87 0x2068 FIRST STRONG ISOLATE
        pdi                                       , //  88 0x2069 POP DIRECTIONAL ISOLATE
        inhibit_symmetric_swapping                , //  89 0x206A INHIBIT SYMMETRIC SWAPPING
        activate_symmetric_swapping               , //  90 0x206B ACTIVATE SYMMETRIC SWAPPING
        inhibit_arabic_form_shaping               , //  91 0x206C INHIBIT ARABIC FORM SHAPING
        activate_arabic_form_shaping              , //  92 0x206D ACTIVATE ARABIC FORM SHAPING
        national_digit_shapes                     , //  93 0x206E NATIONAL DIGIT SHAPES
        nominal_digit_shapes                      , //  94 0x206F NOMINAL DIGIT SHAPES
        zwnbsp                                    , //  95 0xFEFF ZERO WIDTH NO-BREAK SPACE
        interlinear_annotation_anchor             , //  96 0xFFF9 INTERLINEAR ANNOTATION ANCHOR
        interlinear_annotation_separator          , //  97 0xFFFA INTERLINEAR ANNOTATION SEPARATOR
        interlinear_annotation_terminator         , //  98 0xFFFB INTERLINEAR ANNOTATION TERMINATOR
        egyptian_hieroglyph_vertical_joiner       , //  99 0x13430 EGYPTIAN HIEROGLYPH VERTICAL JOINER
        egyptian_hieroglyph_horizontal_joiner     , // 100 0x13431 EGYPTIAN HIEROGLYPH HORIZONTAL JOINER
        egyptian_hieroglyph_insert_at_top_start   , // 101 0x13432 EGYPTIAN HIEROGLYPH INSERT AT TOP START
        egyptian_hieroglyph_insert_at_bottom_start, // 102 0x13433 EGYPTIAN HIEROGLYPH INSERT AT BOTTOM START
        egyptian_hieroglyph_insert_at_top_end     , // 103 0x13434 EGYPTIAN HIEROGLYPH INSERT AT TOP END
        egyptian_hieroglyph_insert_at_bottom_end  , // 104 0x13435 EGYPTIAN HIEROGLYPH INSERT AT BOTTOM END
        egyptian_hieroglyph_overlay_middle        , // 105 0x13436 EGYPTIAN HIEROGLYPH OVERLAY MIDDLE
        egyptian_hieroglyph_begin_segment         , // 106 0x13437 EGYPTIAN HIEROGLYPH BEGIN SEGMENT
        egyptian_hieroglyph_end_segment           , // 107 0x13438 EGYPTIAN HIEROGLYPH END SEGMENT
        egyptian_hieroglyph_insert_at_middle      , // 108 0x13439 EGYPTIAN HIEROGLYPH INSERT AT MIDDLE
        egyptian_hieroglyph_insert_at_top         , // 109 0x1343A EGYPTIAN HIEROGLYPH INSERT AT TOP
        egyptian_hieroglyph_insert_at_bottom      , // 110 0x1343B EGYPTIAN HIEROGLYPH INSERT AT BOTTOM
        egyptian_hieroglyph_begin_enclosure       , // 111 0x1343C EGYPTIAN HIEROGLYPH BEGIN ENCLOSURE
        egyptian_hieroglyph_end_enclosure         , // 112 0x1343D EGYPTIAN HIEROGLYPH END ENCLOSURE
        egyptian_hieroglyph_begin_walled_enclosure, // 113 0x1343E EGYPTIAN HIEROGLYPH BEGIN WALLED ENCLOSURE
        egyptian_hieroglyph_end_walled_enclosure  , // 114 0x1343F EGYPTIAN HIEROGLYPH END WALLED ENCLOSURE
        shorthand_format_letter_overlap           , // 115 0x1BCA0 SHORTHAND FORMAT LETTER OVERLAP
        shorthand_format_continuing_overlap       , // 116 0x1BCA1 SHORTHAND FORMAT CONTINUING OVERLAP
        shorthand_format_down_step                , // 117 0x1BCA2 SHORTHAND FORMAT DOWN STEP
        shorthand_format_up_step                  , // 118 0x1BCA3 SHORTHAND FORMAT UP STEP
        musical_symbol_begin_beam                 , // 119 0x1D173 MUSICAL SYMBOL BEGIN BEAM
        musical_symbol_end_beam                   , // 120 0x1D174 MUSICAL SYMBOL END BEAM
        musical_symbol_begin_tie                  , // 121 0x1D175 MUSICAL SYMBOL BEGIN TIE
        musical_symbol_end_tie                    , // 122 0x1D176 MUSICAL SYMBOL END TIE
        musical_symbol_begin_slur                 , // 123 0x1D177 MUSICAL SYMBOL BEGIN SLUR
        musical_symbol_end_slur                   , // 124 0x1D178 MUSICAL SYMBOL END SLUR
        musical_symbol_begin_phrase               , // 125 0x1D179 MUSICAL SYMBOL BEGIN PHRASE
        musical_symbol_end_phrase                 , // 126 0x1D17A MUSICAL SYMBOL END PHRASE
        count                                     , // 127
    };

    struct unidata;
    inline unidata const& select(ui32 cp);

    struct unidata
    {
        ui32 cmatrix : 8;
        ui32 brgroup : 4;
        ui32 control : 7;
        ui32 wscript : 10; // Unicode ISO script No: 0 - 999.
        //ui32 reserv : 3;

        constexpr unidata(unidata const&) = default;
        constexpr unidata()
            : cmatrix{ widths::vs<11,00> },
              brgroup{ gbreak::any },
              control{ cntrls::non_control },
              wscript{}
        { }
        constexpr unidata(ui32 cmatrix, ui32 brgroup, ui32 control)
            : cmatrix{ cmatrix },
              brgroup{ brgroup },
              control{ control },
              wscript{}
        { }
        unidata(ui32 cp)
            : unidata{ select(cp) }
        { }

        constexpr unidata& operator = (unidata const&) = default;

        auto is_cmd()
        {
            return control < cntrls::non_control;
        }

        // Unicode 15.1.0 UAX #29 https://www.unicode.org/reports/tr29/#Grapheme_Cluster_Boundary_Rules
        bool allied(unidata const& next)
        {
            auto l = brgroup;
            auto r = next.brgroup;
            auto result = //todo use lut(l, r)
                (  l == gbreak::cr    &&  r == gbreak::lf   )  ? true: // GB3

                (  l >= gbreak::cr    &&  l <= gbreak::ctrl )  ? faux: // GB4

                (  r >= gbreak::cr    &&  r <= gbreak::ctrl )  ? faux: // GB5

                (  l == gbreak::l     && (r == gbreak::l
                                      ||  r == gbreak::v
                                      ||  r == gbreak::lv
                                      ||  r == gbreak::lvt  )) ? true: // GB6

                (( l == gbreak::lv    ||  l == gbreak::v    )
              && ( r == gbreak::v     ||  r == gbreak::t    )) ? true: // GB7

                (( l == gbreak::lvt   ||  l == gbreak::t    )
                                      &&  r == gbreak::t    )  ? true: // GB8

                (  l == gbreak::prep  ||  r == gbreak::zwj
                                      ||  r == gbreak::sm
                                      ||  r == gbreak::ext  )  ? true: // GB9,a,b

                (  l == gbreak::combo &&  r == gbreak::ep   )  ? true: // GB11

                (  l == gbreak::ri    &&  r == gbreak::ri   )  ? true: // GB12,13
                                                                 faux; // GB999
            if (l == gbreak::ep)
            {
                brgroup = (r == gbreak::ext) ? gbreak::ep    :
                          (r == gbreak::zwj) ? gbreak::combo : r;
            }
            else
            {
                brgroup = (l == gbreak::ri && r == gbreak::ri) ? gbreak::any : r;
            }
            return result;
        }
    };

    struct base
    {
        static constexpr auto blocks_size = sz_t{ 4352 };
        static constexpr auto blocks_pack = std::to_array<si32>(
        {
              0,  -2, 256, 512, 768, 1024, 1280, 1536, 1792, 2048,
            2304, 2560, 2816, 3072, 3328, 3584, 3840, 4096, 4352, 4608,
             -2, 256, 4864, 5120, 5376, 5632, 5888, 6144, 6400, 6656,
            256, 6912, 7168, 7424, 256, 7680, 7936, 8192, 8448, 8704,
            256, 8960, 256, 9216, 9472, 9728, 9984, 10240, 10496, 10752,
            11008, -26, 11264, 11520, -86, 11264, 11776, 256, 12032, 12288,
            12544, 12800, 13056, 13312, 13568, 13824, 14080, 14336, 14592, 14848,
            15104, 13568, 13824, 14080, 14336, 14592, 14848, 15104, 13568, 13824,
            14080, 14336, 14592, 14848, 15104, 13568, 13824, 14080, 14336, 14592,
            14848, 15104, 13568, 13824, 14080, 14336, 14592, 14848, 15104, 13568,
            13824, 14080, 14336, 14592, 14848, 15104, 13568, 15360,  -8, 15616,
            -25, 256, 11264, 15872, 16128, 256, 16384, 16640, 16896, 17152,
            17408, 17664, 17920, 18176, 18432, 256, 18688, 18944, 19200, 19456,
            19712, 19968, 20224, 20480, 20736, 20992, 21248, 21504, 21760, 22016,
            22272, 22528, 22784, 23040, 23296, 23552, 23808, 24064, 24320, 24576,
            24832,  -3, 256, 25088, 25344, 25600,  -9, 15616, 25856,  -4,
            256, 26112, -15, 15616,  -2, 256, 26368, -33, 15616,  -2,
            256, 26624, 26880,  -2, 15616, 27136, 27392, -23, 11264, 27648,
             -4, 11264, 27904, 28160, -33, 15616, 28416, 11264, 28672, 28928,
             -9, 15616, 29184, -18, 15616, 29440, 29696, 29952, 30208, 30464,
            30720, 30976, 31232, 31488,  -2, 256, 31744,  -4, 15616, 32000,
            32256, 32512, 32768, 15616, 33024,  -2, 15616, 33280, 33536, 33792,
             -2, 15616, 34048, 34304, 34560, 15616, 34816, 35072, 35328, 35584,
            35840, 36096, 36352, 36608, 36864, 37120, 37376, 37632,  -3, 37888,
            38144, -166, 11264, 38400, -16, 11264, 38656, 38912, -21, 11264,
            39168, -28, 11264, 39424,  -2, 11264, 39680,  -9, 15616,  -2,
            11264, 39936,  -5, 15616, -19, 11264, 40192, -15, 11264, 40448,
            -2780, 15616, 40704, 40960, -14, 41216, -240, 15616, -255, 256,
            41472, -255, 256, 41472
        });

        static constexpr auto offset_size = sz_t{ 41728 };
        static constexpr auto offset_pack = std::to_array<si32>(
        {
              1,  2,  3,  4,  5,  6,  7,  8,  9, 10, 11, 12, 13, 14, 15, 16,
             17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32,
            -95,  0, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46,
             47, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 60, 61, 62,
             63, 64, 65, -9,  0, 66, -3,  0, 67, 66,-337,  0,-112, 68, -8,  0,
             -2, 69, -6,  0, -4, 69, -7,  0, 69,  0, 69,-20,  0, 69,-224,  0,
             -7, 68,-166,  0, 69,-38,  0, -2, 69,-50,  0, -2, 69, -3,  0, 69,
            -45, 68,  0, 68,  0, -2, 68,  0, -2, 68,  0, 68, -8, 69,-27,  0,
             -4, 69, -6,  0,-11, 69, -6, 70,-10,  0,-11, 68,  0, 71,-46,  0,
            -21, 68,-16,  0, 68,-101,  0, -7, 68, 70,  0, -6, 68, -2,  0, -2,
             68,  0, -4, 68,-32,  0, 69, 70,  0, 68,-30,  0,-27, 68, -2, 69,
            -89,  0,-11, 68,  0,-14, 69,-43,  0, -9, 68, -7,  0, -2, 69, 68,
            -24,  0, -4, 68,  0, -9, 68,  0, -3, 68,  0, -5, 68, -2, 69,-15,
              0, 69,-25,  0, -3, 68, -2, 69,  0, 69,-11,  0, -5, 69,-31,  0,
             69, -2, 70, -6, 69, -8, 68,-42,  0,-24, 68, 70,-32, 68, 72,-54,
              0, 68, 72, 68,  0, -3, 72, -8, 68, -4, 72, 68, -2, 72,  0, -7,

             68,-10,  0, -2, 68,-29,  0, 68, -2, 72, 69, -8,  0, -2, 69, -2,
              0, -2, 69,-22,  0, 69, -7,  0, 69,  0, -3, 69, -4,  0, -2, 69,
             68,  0, 68, -2, 72, -4, 68, -2, 69, -2, 72, -2, 69, -2, 72, 68,
              0, -8, 69, 68, -4, 69, -2,  0, 69, -3,  0, -2, 68, -2, 69,-24,
              0, 68, -2, 69, -2, 68, 72, 69, -6,  0, -4, 69, -2,  0, -2, 69,
            -22,  0, 69, -7,  0, 69, -2,  0, 69, -2,  0, 69, -2,  0, -2, 69,
             68, 69, -3, 72, -2, 68, -4, 69, -2, 68, -2, 69, -3, 68, -3, 69,
             68, -7, 69, -4,  0, 69,  0, -7, 69,-10,  0, -2, 68, -3,  0, 68,
              0,-10, 69, -2, 68, 72, 69, -9,  0, 69, -3,  0, 69,-22,  0, 69,
             -7,  0, 69, -2,  0, 69, -5,  0, -2, 69, 68,  0, -3, 72, -5, 68,
             69, -2, 68, 72, 69, -2, 72, 68, -2, 69,  0,-15, 69, -2,  0, -2,
             68, -2, 69,-12,  0, -7, 69,  0, -6, 68, 69, 68, -2, 72, 69, -8,
              0, -2, 69, -2,  0, -2, 69,-22,  0, 69, -7,  0, 69, -2,  0, 69,
             -5,  0, -2, 69, 68,  0, -2, 68, 72, -4, 68, -2, 69, -2, 72, -2,
             69, -2, 72, 68, -7, 69, -3, 68, -4, 69, -2,  0, 69, -3,  0, -2,
             68, -2, 69,-18,  0,-10, 69, 68,  0, 69, -6,  0, -3, 69, -3,  0,

             69, -4,  0, -3, 69, -2,  0, 69,  0, 69, -2,  0, -3, 69, -2,  0,
             -3, 69, -3,  0, -3, 69,-12,  0, -4, 69, 68, 72, 68, -2, 72, -3,
             69, -3, 72, 69, -3, 72, 68, -2, 69,  0, -6, 69, 68,-14, 69,-21,
              0, -5, 69, 68, -3, 72, 68, -8,  0, 69, -3,  0, 69,-23,  0, 69,
            -16,  0, -2, 69, 68,  0, -3, 68, -4, 72, 69, -3, 68, 69, -4, 68,
             -7, 69, -2, 68, 69, -3,  0, -2, 69,  0, -2, 69, -2,  0, -2, 68,
             -2, 69,-10,  0, -7, 69,-10,  0, 68, -2, 72, -9,  0, 69, -3,  0,
             69,-23,  0, 69,-10,  0, 69, -5,  0, -2, 69, 68,  0, 72, 68, -2,
             72, 68, -2, 72, 69, 68, -2, 72, 69, -2, 72, -2, 68, -7, 69, -2,
             68, -6, 69, -2,  0, 69, -2,  0, -2, 68, -2, 69,-10,  0, 69, -2,
              0, 72,-12, 69, -2, 68, -2, 72, -9,  0, 69, -3,  0, 69,-41,  0,
             -2, 68,  0, 68, -2, 72, -4, 68, 69, -3, 72, 69, -3, 72, 68, 70,
              0, -4, 69, -3,  0, 68,-10,  0, -2, 68, -2, 69,-26,  0, 69, 68,
             -2, 72, 69,-18,  0, -3, 69,-24,  0, 69, -9,  0, 69,  0, -2, 69,
             -7,  0, -3, 69, 68, -4, 69, 68, -2, 72, -3, 68, 69, 68, 69, -7,
             72, 68, -6, 69,-10,  0, -2, 69, -2, 72,  0,-12, 69,-48,  0, 68,

              0, 73, -7, 68, -4, 69, -8,  0, -8, 68,-13,  0,-37, 69, -2,  0,
             69,  0, 69, -5,  0, 69,-24,  0, 69,  0, 69,-10,  0, 68,  0, 73,
             -9, 68,  0, -2, 69, -5,  0, 69,  0, 69, -7, 68, 69,-10,  0, -2,
             69, -4,  0,-32, 69,-24,  0, -2, 68,-27,  0, 68,  0, 68,  0, 68,
             -4,  0, -2, 72, -8,  0, 69,-36,  0, -4, 69,-14, 68, 72, -5, 68,
              0, -2, 68, -5,  0,-11, 68, 69,-36, 68, 69, -8,  0, 68, -6,  0,
             69,-13,  0,-37, 69,-43,  0, -2, 69, -4, 68, 72, -6, 68, 69, -2,
             68, -2, 72, -2, 68,-23,  0, -2, 72, -2, 68, -4,  0, -3, 68,  0,
             -3, 69, -2,  0, -7, 69, -3,  0, -4, 68,-13,  0, 68, 69, 72, -2,
             68, -6, 69, 68,  0, 69,-10,  0, -3, 69, 68,-40,  0, 69,  0, -5,
             69,  0, -2, 69,-48,  0,-96, 74,-72, 75,-88, 76,-73,  0, 69, -4,
              0, -2, 69, -7,  0, 69,  0, 69, -4,  0, -2, 69,-41,  0, 69, -4,
              0, -2, 69,-33,  0, 69, -4,  0, -2, 69, -7,  0, 69,  0, 69, -4,
              0, -2, 69,-15,  0, 69,-57,  0, 69, -4,  0, -2, 69,-67,  0, -2,
             69, -3, 68,-29,  0, -3, 69,-26,  0, -6, 69,-86,  0, -2, 69, -6,
              0, -2, 69,-157,  0, -3, 69,-89,  0, -7, 69,-18,  0, -3, 68, 72,

             -9, 69,-19,  0, -2, 68, 72, -2,  0, -9, 69,-18,  0, -2, 68,-12,
             69,-13,  0, 69, -3,  0, 69, -2, 68,-12, 69,-52,  0, -2, 68, 72,
             -7, 68, -8, 72, 68, -2, 72,-11, 68, -9,  0, 68, -2, 69,-10,  0,
             -6, 69,-10,  0, -6, 69,-11,  0, -3, 68, 77, 68,-10,  0, -6, 69,
            -89,  0, -7, 69, -5,  0, -2, 68,-34,  0, 68,  0, -5, 69,-70,  0,
            -10, 69,-31,  0, 69, -3, 68, -4, 72, -2, 68, -3, 72, -4, 69, -2,
             72, 68, -6, 72, -3, 68, -4, 69,  0, -3, 69,-42,  0, -2, 69, -5,
              0,-11, 69,-44,  0, -4, 69,-26,  0, -6, 69,-11,  0, -3, 69,-57,
              0, -2, 68, -2, 72, 68, -2, 69,-55,  0, 72, 68, 72, -7, 68, 69,
             68, 69, 68, -2, 69, -8, 68, -6, 72,-10, 68, -2, 69, 68,-10,  0,
             -6, 69,-10,  0, -6, 69,-14,  0, -2, 69,-31, 68,-49, 69, -4, 68,
             72,-47,  0, -7, 68, 72, 68, -5, 72, 68, -2, 72, -8,  0, -3, 69,
            -27,  0, -9, 68,-11,  0, 69, -2, 68, 72,-30,  0, 72, -4, 68, -2,
             72, -2, 68, 72, -3, 68,-56,  0, 68, 72, -2, 68, -3, 72, 68, 72,
             -3, 68, -2, 72, -8, 69,-40,  0, -8, 72, -8, 68, -2, 72, -2, 68,
             -3, 69,-15,  0, -3, 69,-60,  0, -7, 69,-43,  0, -2, 69,-11,  0,

             -8, 69, -3, 68,  0,-13, 68, 72, -7, 68, -4,  0, 68, -6,  0, 68,
             -2,  0, 72, -2, 68,  0, -5, 69,-192,  0,-64, 68,-22,  0, -2, 69,
             -6,  0, -2, 69,-38,  0, -2, 69, -6,  0, -2, 69, -8,  0, 69,  0,
             69,  0, 69,  0, 69,-31,  0, -2, 69,-53,  0, 69,-15,  0, 69,-14,
              0, -2, 69, -6,  0, 69,-19,  0, -2, 69, -3,  0, 69, -9,  0, 69,
            -11,  0, 78, 79, 80, 81, 82,-24,  0, 83, 84, 85, 86, 87, 88, 89,
            -13,  0, 66,-12,  0, 66,-22,  0, 90, 91, 92, 93, 94, 95, 96, 97,
             98, 99,100,101,102,103,104,105, -2,  0, -2, 69,-27,  0, 69,-13,
              0, -3, 69,-33,  0,-15, 69,-33, 68,-15, 69,-34,  0, 66,-22,  0,
             66,-82,  0, -4, 69, -4,  0, -6, 66,-15,  0, -2, 66,-111,  0, -2,
            106,-12,  0, 66, -2,107,-93,  0, 66,-70,  0, 66,-25,  0, -4,106,
             -3, 66,106, -2, 66,106, -4,  0, -3, 66,-44,  0,-25, 69,-11,  0,
            -21, 69,-98,  0, 66,-231,  0, -2, 66,-10,  0, 66, -9,  0, 66,-58,
              0, -2, 66, -2,106,  0, -6, 66,  0,-12, 66,  0, -2,106,-50, 66,
            -12,106,-43, 66,106, -6, 66,-10,  0, -3, 66,106,-13, 66,106, -8,
             66, -2,106,-17, 66, -2,106, -5, 66, -2,106, -8, 66,106, -5, 66,

            106,-21, 66,106, -7, 66, -2,106, 66,106, -4, 66,106, -2, 66,106,
             -7, 66,106, -2,  0, -2, 66, -2,106, -7, 66,  0, 66,  0, 66, -6,
              0, 66, -3,  0, 66, -6,  0,106,-10,  0, -2, 66,-15,  0, 66, -2,
              0, 66, -4,  0,106,  0,106, -4,  0, -3,106,  0,106,-11,  0, -5,
             66,-45,  0, -3,106, -9,  0, 66,-14,  0,106,-14,  0,106,-116,  0,
             -2, 66,-207,  0, -3, 66,-19,  0, -2,106,-51,  0,106, -4,  0,106,
            -30,  0, -2, 69,-32,  0, 69,-344,  0, -3, 68, -2,  0, -5, 69,-45,
              0, 69,  0, -5, 69,  0, -2, 69,-56,  0, -7, 69, -2,  0,-14, 69,
             68,-23,  0, -9, 69, -7,  0, 69, -7,  0, 69, -7,  0, 69, -7,  0,
             69, -7,  0, 69, -7,  0, 69, -7,  0, 69, -7,  0, 69,-32, 68,-94,
              0,-34, 69,-26,107, 69,-89,107,-12, 69,-214,107,-26, 69,-58,107,
             -6, 68,106,-12,107,106,107,  0, 69,-86,107, -2, 69, -2, 68,-101,
            107, -5, 69,-43,107, 69,-94,107, 69,-84,107,-11, 69,-48,107, 69,
            -40,107, -8,  0,-71,107,106,107,106,-550,107,-64,  0,-141,107, -3,
             69,-55,107, -9, 69,-92,  0,-20, 69,-47,  0, -4, 68,  0,-10, 68,
            -32,  0, -2, 68,-80,  0, -2, 68, -6,  0, -8, 69,-203,  0, -5, 69,

             -2,  0, 69,  0, 69, -5,  0,-24, 69,-16,  0, 68, -3,  0, 68, -4,
              0, 68,-23,  0, -2, 72, -2, 68, 72, -4,  0, 68, -3, 69,-10,  0,
             -6, 69,-56,  0, -8, 69, -2, 72,-50,  0,-16, 72, -2, 68, -8, 69,
            -12,  0, -6, 69,-18, 68,-13,  0, 68,-38,  0, -8, 68,-25,  0,-11,
             68, -2, 72,-11, 69,  0,-29, 74, -3, 69, -3, 68, 72,-47,  0, 68,
             -2, 72, -4, 68, -2, 72, -2, 68, -3, 72,-13,  0, 69,-11,  0, -4,
             69, -7,  0, 68,-25,  0, 69,-41,  0, -6, 68, -2, 72, -2, 68, -2,
             72, -2, 68, -9, 69, -3,  0, 68, -8,  0, 68, 72, -2, 69,-10,  0,
             -2, 69,-31,  0, 69, 68, 69,-50,  0, 68,  0, -3, 68, -2,  0, -2,
             68, -5,  0, -2, 68,  0, 68,  0,-24, 69,-16,  0, 72, -2, 68, -2,
             72, -5,  0, 72, 68,-10, 69, -6,  0, -2, 69, -6,  0, -2, 69, -6,
              0, -9, 69, -7,  0, 69, -7,  0, 69,-60,  0, -4, 69,-115,  0, -2,
             72, 68, -2, 72, 68, -2, 72,  0, 72, 68, -2, 69,-10,  0, -6, 69,
            108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,
            -27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,
            109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,

            108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,
            -27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,
            109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,
            108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,
            -27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,
            109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,
            108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,
            -27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,
            109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-51,109,
            108,-27,109,108,-27,109,108,-27,109,108,-27,109,108,-27,109,-12,
             69,-23, 75, -4, 69,-49, 76,-260, 69,-110,107, -2, 69,-106,107,-38,
             69, -7,  0,-12, 69, -5,  0, -5, 69,  0, 68,-24,  0, 69, -5,  0,
             69,  0, 69, -2,  0, 69, -2,  0, 69,-125,  0,-16, 69,-189,  0, -2,
             69,-54,  0, -7, 69,  0,-32, 69,-16,  0,-16, 68,-10,107, -6, 69,
            -16, 68,-35,107, 69,-19,107, 69, -4,107, -4, 69, -5,  0, 69,-135,
              0, -2, 69,110, 69,-96,107,-61,  0, -2,111,-31,  0, -3, 69, -6,

              0, -2, 69, -6,  0, -2, 69, -6,  0, -2, 69, -3,  0, -3, 69, -7,
            107, 69, -7,  0, 69, -9, 95,112,113,114, -2,  0, -2, 69,-12,  0,
             69,-26,  0, 69,-19,  0, 69, -2,  0, 69,-15,  0, -2, 69,-14,  0,
            -34, 69,-123,  0, -5, 69, -3,  0, -4, 69,-45,  0, -3, 69,-88,  0,
             69,-13,  0, -3, 69,  0,-47, 69,-45,  0, 68,-130, 69,-29,  0, -3,
             69,-49,  0,-15, 69, 68,-27,  0, -4, 69,-36,  0, -9, 69,-30,  0,
             -5, 69,-38,  0, -5, 68, -5, 69,-30,  0, 69,-37,  0, -4, 69,-14,
              0,-42, 69,-158,  0, -2, 69,-10,  0, -6, 69,-36,  0, -4, 69,-36,
              0, -4, 69,-40,  0, -8, 69,-52,  0,-11, 69,-12,  0, 69,-15,  0,
             69, -7,  0, 69, -2,  0, 69,-11,  0, 69,-15,  0, 69, -7,  0, 69,
             -2,  0,-67, 69,-55,  0, -9, 69,-22,  0,-10, 69, -8,  0,-24, 69,
             -6,  0, 69,-42,  0, 69, -9,  0,-69, 69, -6,  0, -2, 69,  0, 69,
            -44,  0, 69, -2,  0, -3, 69,  0, -2, 69,-23,  0, 69,-72,  0, -8,
             69, -9,  0,-48, 69,-19,  0, 69, -2,  0, -5, 69,-33,  0, -3, 69,
            -27,  0, -5, 69,  0,-64, 69,-56,  0, -4, 69,-20,  0, -2, 69,-47,
              0, -3, 68, 69, -2, 68, -5, 69, -4, 68, -4,  0, 69, -3,  0, 69,

            -29,  0, -2, 69, -3, 68, -4, 69, 68, -9,  0, -7, 69, -9,  0, -7,
             69,-64,  0,-32, 69,-37,  0, -2, 68, -4, 69,-12,  0, -9, 69,-54,
              0, -3, 69,-29,  0, -2, 69,-27,  0, -5, 69,-26,  0, -7, 69, -4,
              0,-12, 69, -7,  0,-80, 69,-73,  0,-55, 69,-51,  0,-13, 69,-51,
              0, -7, 69,-42,  0, -4, 68, -8, 69,-10,  0,-294, 69,-31,  0, 69,
            -42,  0, 69, -2, 68,  0, -2, 69, -2,  0,-75, 69, -3, 68,-40,  0,
             -8, 69,-22,  0,-11, 68, -9,  0,-22, 69,-18,  0, -4, 68, -4,  0,
            -38, 69,-28,  0,-20, 69,-23,  0, -9, 69, 72, 68, 72,-53,  0,-15,
             68, -7,  0, -4, 69,-30,  0, 68, -2,  0, -2, 68,  0, -9, 69, -3,
             68, 72,-45,  0, -3, 72, -4, 68, -2, 72, -2, 68, -2,  0, 70, -4,
              0, 68,-10, 69, 70, -2, 69,-25,  0, -7, 69,-10,  0, -6, 69, -3,
             68,-36,  0, -5, 68, 72, -8, 68, 69,-15,  0, -2, 72,  0, -8, 69,
            -35,  0, 68, -3,  0, -9, 69, -2, 68, 72,-48,  0, -3, 72, -9, 68,
             -2, 72,  0, -2, 70, -5,  0, -4, 68,  0, 72, 68,-16,  0, 69,-20,
              0,-11, 69,-18,  0, 69,-25,  0, -3, 72, -3, 68, -2, 72, 68, 72,
             -2, 68, -6,  0, 68, -2,  0, 68,-62, 69, -7,  0, 69,  0, 69, -4,

              0, 69,-15,  0, 69,-11,  0, -6, 69,-47,  0, 68, -3, 72, -8, 68,
             -5, 69,-10,  0, -6, 69, -2, 68, -2, 72, 69, -8,  0, -2, 69, -2,
              0, -2, 69,-22,  0, 69, -7,  0, 69, -2,  0, 69, -5,  0, 69, -2,
             68,  0, 68, 72, 68, -4, 72, -2, 69, -2, 72, -2, 69, -3, 72, -2,
             69,  0, -6, 69, 68, -5, 69, -5,  0, -2, 72, -2, 69, -7, 68, -3,
             69, -5, 68,-139, 69,-53,  0, -3, 72, -8, 68, -2, 72, -3, 68, 72,
             68,-21,  0, 69,  0, 68, -3,  0,-30, 69,-48,  0, 68, -2, 72, -6,
             68, 72, 68, -2, 72, 68, 72, -2, 68, 72, -2, 68, -4,  0, -8, 69,
            -10,  0,-166, 69,-47,  0, 68, -2, 72, -4, 68, -2, 69, -4, 72, -2,
             68, 72, -2, 68,-27,  0, -2, 68,-34, 69,-48,  0, -3, 72, -8, 68,
             -2, 72, 68, 72, -2, 68, -4,  0,-11, 69,-10,  0, -6, 69,-13,  0,
            -19, 69,-43,  0, 68, 72, 68, -2, 72, -6, 68, 72, 68, -2,  0, -6,
             69,-10,  0,-54, 69,-27,  0, -2, 69, -3, 68, -2, 69, -4, 68, 72,
             -5, 68, -4, 69,-23,  0,-185, 69,-44,  0, -3, 72, -9, 68, 72, -2,
             68,  0,-100, 69,-83,  0,-12, 69, -8,  0, -2, 69,  0, -2, 69, -8,
              0, 69, -2,  0, 69,-24,  0, 68, -5, 72, 69, -2, 72, -2, 69, -2,

             68, 72, 68, 70, 72, 70, 72, 68, -3,  0, -9, 69,-10,  0,-70, 69,
             -8,  0, -2, 69,-39,  0, -3, 72, -4, 68, -2, 69, -2, 68, -4, 72,
             68, -3,  0, 72,-27, 69,  0,-10, 68,-40,  0, -6, 68, 72, 70, -4,
             68, -8,  0, 68, -8, 69,  0, -6, 68, -2, 72, -3, 68,-40,  0, -6,
             70,-13, 68, 72, -2, 68, -9,  0,-13, 69,-73,  0, -7, 69,-10,  0,
            -246, 69, -9,  0, 69,-37,  0, 72, -7, 68, 69, -6, 68, 72, 68, -6,
              0,-10, 69,-29,  0, -3, 69,-32,  0, -2, 69,-22, 68, 69, 72, -7,
             68, 72, -2, 68, 72, -2, 68,-73, 69, -7,  0, 69, -2,  0, 69,-38,
              0, -6, 68, -3, 69, 68, 69, -2, 68, 69, -7, 68, 70, 68, -8, 69,
            -10,  0, -6, 69, -6,  0, 69, -2,  0, 69,-32,  0, -5, 72, 69, -2,
             68, 69, -2, 72, 68, 72, 68,  0, -7, 69,-10,  0,-310, 69,-19,  0,
             -2, 68, -2, 72, -2,  0, -7, 69, -2, 68, 70, 72,-13,  0, 69,-34,
              0, -2, 72, -5, 68, -3, 69, -2, 72, 68, 72, 68,-23,  0,-86, 69,
              0,-15, 69,-50,  0,-13, 69,-155,  0,-102, 69,-111,  0, 69, -5,  0,
            -11, 69,-196,  0,-332, 69,-99,  0,-13, 69,-48,  0,115,116,117,118,
            119,120,121,122,123,124,125,126,127,128,129,130, 68, -6,  0,-15,

             68,-170, 69,-71,  0,-185, 69,-57,  0, -7, 69,-31,  0, 69,-10,  0,
             -4, 69,-81,  0, 69,-10,  0, -6, 69,-30,  0, -2, 69, -5, 68,  0,
            -10, 69,-48,  0, -7, 68,-15,  0,-10, 69,-10,  0, 69, -7,  0, 69,
            -21,  0, -5, 69,-19,  0,-176, 69,-91,  0,-101, 69,-75,  0, -4, 69,
             68,  0,-55, 72, -7, 69, -4, 68,-13,  0,-64, 69, -4,107, 68,-11,
             69, -2, 72,-14, 69,-248,107, -8, 69,-214,107,-42, 69, -9,107,-487,
             69, -4,107, 69, -7,107, 69, -2,107, 69,-35,107,-15, 69,107,-29,
             69, -3,107, -2, 69,107,-14, 69, -4,107, -8, 69,-396,107, -4, 69,
            -107,  0, -5, 69,-13,  0, -3, 69, -9,  0, -7, 69,-10,  0, -2, 69,
              0, -2, 68,  0,131,132,133,134,-92, 69,-46, 68, -2, 69,-23, 68,
             -9, 69,-116,  0,-60, 69,-246,  0,-10, 69,-39,  0, -2, 69,-60,  0,
             68, 72, -3, 68, -3,  0, 72, -5, 68,135,136,137,138,139,140,141,
            142, -8, 68, -2,  0, -7, 68,-30,  0, -4, 68,-61,  0,-21, 69,-66,
              0, -3, 68,  0,-122, 69,-20,  0,-12, 69,-20,  0,-12, 69,-87,  0,
             -9, 69,-25,  0,-135, 69,-85,  0, 69,-71,  0, 69, -2,  0, -2, 69,
              0, -2, 69, -2,  0, -2, 69, -4,  0, 69,-12,  0, 69,  0, 69, -7,

              0, 69,-65,  0, 69, -4,  0, -2, 69, -8,  0, 69, -7,  0, 69,-28,
              0, 69, -4,  0, 69, -5,  0, 69,  0, -3, 69, -7,  0, 69,-340,  0,
             -2, 69,-292,  0, -2, 69,-50,  0,-55, 68, -4,  0,-50, 68, -8,  0,
             68,-14,  0, 68, -7,  0,-15, 69, -5, 68, 69,-15, 68,-80, 69,-31,
              0, -6, 69, -6,  0,-213, 69, -7, 68, 69,-17, 68, -2, 69, -7, 68,
             69, -2, 68, 69, -5, 68, -5, 69,-62,  0,-33, 69, 68,-112, 69,-45,
              0, -3, 69, -7, 68, -7,  0, -2, 69,-10,  0, -4, 69, -2,  0,-320,
             69,-30,  0, 68,-17, 69,-44,  0, -4, 68,-10,  0, -5, 69,  0,-208,
             69,-28,  0, -4, 68,-10,  0,-230, 69, -7,  0, 69, -4,  0, 69, -2,
              0, 69,-15,  0, 69,-197,  0, -2, 69, -9,  0, -7, 68,-41, 69,-68,
              0, -7, 68,  0, -4, 69,-10,  0, -4, 69, -2,  0,-273, 69,-68,  0,
            -76, 69,-61,  0,-194, 69, -4,  0, 69,-27,  0, 69, -2,  0, 69,  0,
             -2, 69,  0, 69,-10,  0, 69, -4,  0, 69,  0, 69,  0, -6, 69,  0,
             -4, 69,  0, 69,  0, 69,  0, 69, -3,  0, 69, -2,  0, 69,  0, -2,
             69,  0, 69,  0, 69,  0, 69,  0, 69,  0, 69, -2,  0, 69,  0, -2,
             69, -4,  0, 69, -7,  0, 69, -4,  0, 69, -4,  0, 69,  0, 69,-10,

              0, 69,-17,  0, -5, 69, -3,  0, 69, -5,  0, 69,-17,  0,-52, 69,
             -2,  0,-14, 69, -4, 66,106,-39, 66, -4,143,-100, 66,-12,143,-15,
             66, -2,143,-15, 66,143,-14, 66,106,143,-37, 66,-10,143,-13,  0,
             -3, 66,-31,  0, 66,-60,  0, -6, 66,-12,  0, -2, 66,-14,  0,106,
             -2,  0,-10,106,-18,  0, 66,-56,143,-26,144,107, -2,106,-13,143,
            -10,107,106,-20,107,106, -2,107, -9,106,107, -4,143, -9,107, -7,
            143, -2,106,-14,143, -6,106,-154,143,-33,106,-12, 66, -9,106, 66,
            -70,106, 66,-22,106,-12, 66,-43,106, -4, 66, -5,106,-12, 66,-17,
            106, -3, 66,106, -3, 66, -3,106, -5,145,-63,106, 66,106, 66,-187,
            106, -2, 66,-63,106, -8,  0, -5, 66, -4,106, 66,-24,106,-18, 66,
            106,-26, 66, -2,106,-13, 66,106,-86, 66,-85,106,-48,  0,-70,106,
             -6, 66,106, -3, 66, -3,106, -2, 66, -3,106, -4,143, -4,106,-11,
             66, -2,106, -3,143, -4, 66, -9,106, -3,143,-116,  0, -3, 66, -4,
            143, -5, 66,-85,  0, -5, 66, -6,143,-12,106, -4,143,106,-15,143,
            -12,  0, -4,143,-56,  0, -8,143,-10,  0, -6,143,-40,  0, -8,143,
            -30,  0, -2,143, -2, 66,-78,143,-12,  0,-47,106,  0,-10,106,  0,

            -185,106,-84, 66,-12,143,-14, 66, -2,143,-13,106, -3,143, -9,106,
             -7,143,-46,106,143, -7,106, -8,143,-14,106, -4,143, -9,106, -7,
            143, -9,106, -7,143,-147,  0, 69,-55,  0,-37, 69,-10,  0, -6, 69,
            -510,143, -2, 69,-224,107,-32, 69,-58,107, -6, 69,-222,107, -2, 69,
            -386,107,-14, 69,-305,107,-15, 69,-110,107,-162, 69,-30,107,-226, 69,
            -75,107, -5, 69,-352,107,-80, 69,-32, 95,-96, 68,-128, 95,-240, 68,
            -272, 95,-254,  0, -2, 69
        });

        static constexpr auto ucspec = std::to_array<unidata>(
        {
            { widths::vs<11,00>, gbreak::any , cntrls::non_control            },  //   0
            { widths::vs<00,00>, gbreak::ctrl, cntrls::non_control            },  //   1
            { widths::vs<00,00>, gbreak::ctrl, cntrls::soh                    },  //   2
            { widths::vs<00,00>, gbreak::ctrl, cntrls::stx                    },  //   3
            { widths::vs<00,00>, gbreak::ctrl, cntrls::etx                    },  //   4
            { widths::vs<00,00>, gbreak::ctrl, cntrls::eot                    },  //   5
            { widths::vs<00,00>, gbreak::ctrl, cntrls::enq                    },  //   6
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ack                    },  //   7
            { widths::vs<00,00>, gbreak::ctrl, cntrls::bel                    },  //   8
            { widths::vs<00,00>, gbreak::ctrl, cntrls::bs                     },  //   9
            { widths::vs<00,00>, gbreak::ctrl, cntrls::tab                    },  //  10
            { widths::vs<00,00>, gbreak::lf  , cntrls::eol                    },  //  11
            { widths::vs<00,00>, gbreak::ctrl, cntrls::vt                     },  //  12
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ff                     },  //  13
            { widths::vs<00,00>, gbreak::cr  , cntrls::cr                     },  //  14
            { widths::vs<00,00>, gbreak::ctrl, cntrls::so                     },  //  15
            { widths::vs<00,00>, gbreak::ctrl, cntrls::si                     },  //  16
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dle                    },  //  17
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dc1                    },  //  18
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dc2                    },  //  19
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dc3                    },  //  20
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dc4                    },  //  21
            { widths::vs<00,00>, gbreak::ctrl, cntrls::nak                    },  //  22
            { widths::vs<00,00>, gbreak::ctrl, cntrls::syn                    },  //  23
            { widths::vs<00,00>, gbreak::ctrl, cntrls::etb                    },  //  24
            { widths::vs<00,00>, gbreak::ctrl, cntrls::can                    },  //  25
            { widths::vs<00,00>, gbreak::ctrl, cntrls::em                     },  //  26
            { widths::vs<00,00>, gbreak::ctrl, cntrls::sub                    },  //  27
            { widths::vs<00,00>, gbreak::ctrl, cntrls::esc                    },  //  28
            { widths::vs<00,00>, gbreak::ctrl, cntrls::fs                     },  //  29
            { widths::vs<00,00>, gbreak::ctrl, cntrls::gs                     },  //  30
            { widths::vs<00,00>, gbreak::ctrl, cntrls::rs                     },  //  31
            { widths::vs<00,00>, gbreak::ctrl, cntrls::us                     },  //  32
            { widths::vs<00,00>, gbreak::ctrl, cntrls::del                    },  //  33
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pad                    },  //  34
            { widths::vs<00,00>, gbreak::ctrl, cntrls::hop                    },  //  35
            { widths::vs<00,00>, gbreak::ctrl, cntrls::bph                    },  //  36
            { widths::vs<00,00>, gbreak::ctrl, cntrls::nbh                    },  //  37
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ind                    },  //  38
            { widths::vs<00,00>, gbreak::ctrl, cntrls::nel                    },  //  39
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ssa                    },  //  40
            { widths::vs<00,00>, gbreak::ctrl, cntrls::esa                    },  //  41
            { widths::vs<00,00>, gbreak::ctrl, cntrls::hts                    },  //  42
            { widths::vs<00,00>, gbreak::ctrl, cntrls::htj                    },  //  43
            { widths::vs<00,00>, gbreak::ctrl, cntrls::vts                    },  //  44
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pld                    },  //  45
            { widths::vs<00,00>, gbreak::ctrl, cntrls::plu                    },  //  46
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ri                     },  //  47
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ss2                    },  //  48
            { widths::vs<00,00>, gbreak::ctrl, cntrls::ss3                    },  //  49
            { widths::vs<00,00>, gbreak::ctrl, cntrls::dcs                    },  //  50
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pu1                    },  //  51
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pu2                    },  //  52
            { widths::vs<00,00>, gbreak::ctrl, cntrls::sts                    },  //  53
            { widths::vs<00,00>, gbreak::ctrl, cntrls::cch                    },  //  54
            { widths::vs<00,00>, gbreak::ctrl, cntrls::mw                     },  //  55
            { widths::vs<00,00>, gbreak::ctrl, cntrls::spa                    },  //  56
            { widths::vs<00,00>, gbreak::ctrl, cntrls::epa                    },  //  57
            { widths::vs<00,00>, gbreak::ctrl, cntrls::sos                    },  //  58
            { widths::vs<00,00>, gbreak::ctrl, cntrls::sgc                    },  //  59
            { widths::vs<00,00>, gbreak::ctrl, cntrls::sci                    },  //  60
            { widths::vs<00,00>, gbreak::ctrl, cntrls::csi                    },  //  61
            { widths::vs<00,00>, gbreak::ctrl, cntrls::st                     },  //  62
            { widths::vs<00,00>, gbreak::ctrl, cntrls::osc                    },  //  63
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pm                     },  //  64
            { widths::vs<00,00>, gbreak::ctrl, cntrls::apc                    },  //  65
            { widths::vs<11,00>, gbreak::ep  , cntrls::non_control            },  //  66
            { widths::vs<00,00>, gbreak::ctrl, cntrls::shy                    },  //  67
            { widths::vs<00,00>, gbreak::ext , cntrls::non_control            },  //  68
            { widths::vs<00,00>, gbreak::any , cntrls::non_control            },  //  69
            { widths::vs<11,00>, gbreak::prep, cntrls::non_control            },  //  70
            { widths::vs<00,00>, gbreak::ctrl, cntrls::alm                    },  //  71
            { widths::vs<00,00>, gbreak::sm  , cntrls::non_control            },  //  72
            { widths::vs<11,00>, gbreak::sm  , cntrls::non_control            },  //  73
            { widths::vs<21,00>, gbreak::l   , cntrls::non_control            },  //  74
            { widths::vs<11,00>, gbreak::v   , cntrls::non_control            },  //  75
            { widths::vs<11,00>, gbreak::t   , cntrls::non_control            },  //  76
            { widths::vs<00,00>, gbreak::ctrl, cntrls::mvs                    },  //  77
            { widths::vs<00,00>, gbreak::ctrl, cntrls::zwsp                   },  //  78
            { widths::vs<00,00>, gbreak::ext , cntrls::zwnj                   },  //  79
            { widths::vs<00,00>, gbreak::zwj , cntrls::non_control            },  //  80
            { widths::vs<00,00>, gbreak::ctrl, cntrls::lrm                    },  //  81
            { widths::vs<00,00>, gbreak::ctrl, cntrls::rlm                    },  //  82
            { widths::vs<00,00>, gbreak::ctrl, cntrls::line_separator         },  //  83
            { widths::vs<00,00>, gbreak::ctrl, cntrls::paragraph_separator    },  //  84
            { widths::vs<00,00>, gbreak::ctrl, cntrls::lre                    },  //  85
            { widths::vs<00,00>, gbreak::ctrl, cntrls::rle                    },  //  86
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pdf                    },  //  87
            { widths::vs<00,00>, gbreak::ctrl, cntrls::lro                    },  //  88
            { widths::vs<00,00>, gbreak::ctrl, cntrls::rlo                    },  //  89
            { widths::vs<00,00>, gbreak::ctrl, cntrls::wj                     },  //  90
            { widths::vs<00,00>, gbreak::ctrl, cntrls::function_application   },  //  91
            { widths::vs<00,00>, gbreak::ctrl, cntrls::invisible_times        },  //  92
            { widths::vs<00,00>, gbreak::ctrl, cntrls::invisible_separator    },  //  93
            { widths::vs<00,00>, gbreak::ctrl, cntrls::invisible_plus         },  //  94
            { widths::vs<00,00>, gbreak::ctrl, cntrls::non_control            },  //  95
            { widths::vs<00,00>, gbreak::ctrl, cntrls::lri                    },  //  96
            { widths::vs<00,00>, gbreak::ctrl, cntrls::rli                    },  //  97
            { widths::vs<00,00>, gbreak::ctrl, cntrls::fsi                    },  //  98
            { widths::vs<00,00>, gbreak::ctrl, cntrls::pdi                    },  //  99
            { widths::vs<00,00>, gbreak::ctrl, cntrls::inhibit_symmetric_swapping },  // 100
            { widths::vs<00,00>, gbreak::ctrl, cntrls::activate_symmetric_swapping },  // 101
            { widths::vs<00,00>, gbreak::ctrl, cntrls::inhibit_arabic_form_shaping },  // 102
            { widths::vs<00,00>, gbreak::ctrl, cntrls::activate_arabic_form_shaping },  // 103
            { widths::vs<00,00>, gbreak::ctrl, cntrls::national_digit_shapes  },  // 104
            { widths::vs<00,00>, gbreak::ctrl, cntrls::nominal_digit_shapes   },  // 105
            { widths::vs<21,00>, gbreak::ep  , cntrls::non_control            },  // 106
            { widths::vs<21,00>, gbreak::any , cntrls::non_control            },  // 107
            { widths::vs<21,00>, gbreak::lv  , cntrls::non_control            },  // 108
            { widths::vs<21,00>, gbreak::lvt , cntrls::non_control            },  // 109
            { widths::vs<00,00>, gbreak::ctrl, cntrls::zwnbsp                 },  // 110
            { widths::vs<11,00>, gbreak::ext , cntrls::non_control            },  // 111
            { widths::vs<00,00>, gbreak::ctrl, cntrls::interlinear_annotation_anchor },  // 112
            { widths::vs<00,00>, gbreak::ctrl, cntrls::interlinear_annotation_separator },  // 113
            { widths::vs<00,00>, gbreak::ctrl, cntrls::interlinear_annotation_terminator },  // 114
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_vertical_joiner },  // 115
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_horizontal_joiner },  // 116
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_top_start },  // 117
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_bottom_start },  // 118
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_top_end },  // 119
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_bottom_end },  // 120
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_overlay_middle },  // 121
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_begin_segment },  // 122
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_end_segment },  // 123
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_middle },  // 124
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_top },  // 125
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_insert_at_bottom },  // 126
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_begin_enclosure },  // 127
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_end_enclosure },  // 128
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_begin_walled_enclosure },  // 129
            { widths::vs<00,00>, gbreak::ctrl, cntrls::egyptian_hieroglyph_end_walled_enclosure },  // 130
            { widths::vs<00,00>, gbreak::ctrl, cntrls::shorthand_format_letter_overlap },  // 131
            { widths::vs<00,00>, gbreak::ctrl, cntrls::shorthand_format_continuing_overlap },  // 132
            { widths::vs<00,00>, gbreak::ctrl, cntrls::shorthand_format_down_step },  // 133
            { widths::vs<00,00>, gbreak::ctrl, cntrls::shorthand_format_up_step },  // 134
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_begin_beam },  // 135
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_end_beam },  // 136
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_begin_tie },  // 137
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_end_tie },  // 138
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_begin_slur },  // 139
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_end_slur },  // 140
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_begin_phrase },  // 141
            { widths::vs<00,00>, gbreak::ctrl, cntrls::musical_symbol_end_phrase },  // 142
            { widths::vs<00,00>, gbreak::ep  , cntrls::non_control            },  // 143
            { widths::vs<11,00>, gbreak::ri  , cntrls::non_control            },  // 144
            { widths::vs<21,00>, gbreak::ext , cntrls::non_control            },  // 145
        });
    };

    template<class T, class D>
    auto unpack(D const& pack, sz_t size)
    {
        auto data = std::vector<T>{};
        data.reserve(size);
        auto iter = pack.begin();
        auto tail = pack.end();
        while (iter != tail)
        {
            auto n = *iter++;
            if (n < 0) data.insert(data.end(), -n, static_cast<T>(*iter++));
            else       data.push_back(static_cast<T>(n));
        }
        return data;
    }

    unidata const& select(ui32 cp)
    {
        static auto ucbase = []
        {
            auto offset = unpack<byte>(base::offset_pack, base::offset_size);
            auto blocks = unpack<ui16>(base::blocks_pack, base::blocks_size);
            auto v = std::vector<unidata>(0x10FFFF);
            for (auto i = 0; i < v.size(); i++)
            {
                auto& rec = v[i];
                rec = base::ucspec[offset[blocks[i >> 8] + (i & 0xFF)]];
                rec.wscript = 0;
            }
            return v;
        }();
        return cp > 0x10FFFF ? ucbase[0] : ucbase[cp];
    }
}